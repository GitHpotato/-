# 引用全剧组件造成的问题
------
#### bug的产生流程是这样的
--- 
- 接触查询表格中为用户的通话信息，点击当前列会出现一个接触详情抽屉弹窗，
- 在弹窗里又引入一个新建工单全局组件，点击新建会出现这个工单组件，其图层保持位于接触详情弹窗之上，一切功能正常使用。
- 当点击其他功能模块的时候，再回来点击接触弹窗，再接触弹窗中点击新建工单，其新建工单组件会置于接触详情弹窗之下，造成功能无法使用的bug
##### 之前刚看到这个bug的时候我就想到了图层的问题，在开发者模式中查看到，全局组件工单，和接触详情抽屉组件z-index属性为一致
#### 默认都是1000，想改图层没改成，今天通过大神解释，不光知道了怎么解决，还知道了bug产生的原理
- 原因：工单的抽屉是个全局组件，接触详情抽屉组件在接触模块里面的，第一次流程两个抽屉DOM的顺序是对的，
- 去别的模块后，接触的抽屉被销毁了，工单的抽屉因为是全局组件所有还在，第二次流程接触的抽屉变为在工单的dom后面，z-index一样会显示在上层。
- 解决：穿透样式改变抽屉和遮罩层的z-index小于全局组件值就可以了
- 总结：全局组件挂在后不会被销毁，DOM的顺序就可能排在后创建的DOM之前，
- 若z-indx相同，那么后创建的显示在最上面
---
![Image text](https://github.com/Pooo-hxp/some-function-package/blob/master/photo/TucengBug.png?raw=true)
