#### 记录一次笔试题（2021.0514）

- 一年工作经验，杭州面试。

### 人事面

- 能接受的加班情况
- 为什么想换工作
- 期望工资范围
- 未来有什么规划

---

### 技术面

- 自我介绍，在学校时的情况，最近做的什么项目，使用技术栈？

---

#### 正题，Vue 相关(按分类归纳，非面试询问顺序)

 一、平时工作`Vue.$set()`是怎么用的？
  - 当把一个普通的 JS 对象传入 Vue 实例作为 data 选项，Vue 将遍历此对象所有的属性，并使用 Object.defineProperty 把这些属性全部转为 getter/setter。
  - `官方定义：如果在实例创建之后添加新的属性到实例上，它不会触发视图更新。`
  - ` Object.defineProperty 的缺点：无法检测对象属性的添加和删除`
  - 可以使用`Vue.set(object, key, value)`方法将响应属性添加到嵌套的对象上

二、 Vue中data为什么必须是一个函数呢？
  - 首先data中存放的很多数据，指向同一个地址
  - 页面中每个组件的值都是从data中获取的（同一个地址）
  - 当data使用一个函数返回时，每个实例的data属性都是独立的，不会相互影响。
  - 总结就是避免多个组件共用同一个作用域data。

三、 在Vue生命周期运用、理解及操作？
  - beforeCreate时，只是始化一个空的Vue实例对象，并未初始化data数据和methods方法。
  - created时，data和methods已经初始化完毕，可以在这里进行数据操作或调用methods方法
  - beforeMount时，模板在内容中编译好了，但未挂载到页面上（此时页面插值展示{{msg}}）
  - mounted时，Vue实例已经初始化完毕，浏览器页面正常展示。
  - data数据发生改变时
    - beforeUpdate：此时data中数据已经更新，但是页面上还是旧数据。
    - updated：此时页面上数据已经与data数据保持一致，都是最新的。
  - beforeUpdate时，未进入真正销毁过程，实例身上挂载的data和methods都可以继续使用
  - destroyed时，组件已被完全销毁，组件数据及方法指令都不可在用。

四、 在Vue中组件嵌套时生命周期关系是怎样的 ？
  - 组件正常加载渲染过程
`父beforeCreate->父created->父beforeMount->子beforeCreate->子created->子beforeMount->子mounted->父mounted`
  - 子组件更新过程
`父beforeUpdate->子beforeUpdate->子updated->父updated`
  - 父组件更新过程
`父beforeUpdate->父updated`
  - 销毁过程
`父beforeDestroy->子beforeDestroy->子destroyed->父destroyed`
  - **可知子组件挂载完成后，父组件还未挂载。所以组件数据回显的时候，在父组件mounted中获取api的数据，子组件的mounted是拿不到的**

五、 在Vue中组件常用的通信方式 ？
  - 父向子组件传值
    - 引用子组件时，在子组件身上bind绑定指定数据名
    - 子组件实例属性props里进行声明获取（只读不可修改）
    - 传值数据的类型标注都可
  - 子组件向父组件传值
    - 自定义事件函数绑定在子组件身上 ` this.$emit('childFun',data);`
      - data为子组件想像父组件传递的值
    - `<child @childFun="parFun"></child>`
    - 父组件中需要定义函数parFun(data)获取
  - 兄弟组件间传值
    - 利用eventBus事件总线实现
  - 当然，还有更合适的方案是使用vuex来做数据管理。

六、如何简化Vue中重复的东西，比如Vue中（没听清，可能是makething？）怎么使用的
  - 这个没回答出来，不知道他说的是啥。

七、Vue中`$nextTick()`干嘛使得，应用场景是什么？
  - 定义：在下次DOM更新循环结束后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的DOM。
  - 理解：nextTick()是将回调函数延迟在下一次dom更新数据后调用，即当数据更新了在DOM中渲染后自动执行该函数。
  - 背景：created时，data和methods初始完毕，但DOM未渲染。
  -  mounted时，页面的DOM节点才被初始化后挂载。
  - 因此在**created**操作DOM，都需要将js代码放进Vue.nextTick()的回调函数中。

八、Vue中有进行过什么性能方面的优化吗？
  - 开放性回答
  - 比如组件for循环时，设置唯一key值，便于vue更快定位该数据
  - 使用keep-alive进行组件缓存
  - 三方库按需引入，避免无用加载等

九、Vue中对于data中定义的数据，但不需要监听怎么处理，比如`Object.freezze()`
  - 这个业务场景中没有遇到过，不会答
  - 定义：Object.freeze() 方法可以冻结一个对象。这个对象不能被修改添加和删除
  - 在确定不会操作此对象时，使用Object.freeze()可以让性能大幅提升
  ---


#### HTTP相关
 一、常见的请求方法
 - GET方法，从指定资源中请求数据。（GET请求有长度限制，可缓存不可修改）
 - POST方法，数据传输用于创建或更新资源（POST无长度限制，不可缓存）
 - PUT方法，它和post方法很相似，不过请求相同时PUT会覆盖前一个，post不会
 - DELETE方法，用来删除指定资源

 二、通信时常用的状态码
 - 200 OK ：表示客户端请求在服务器端正常处理。
 - 3XX 重定向：表明浏览器需要执行某些特殊的处理以正确处理请求。
   - 301 Moved Permanently（永久性重定向）
   - 302 Found（临时重定向）
   - 304 Not Modified 允许请求访问资源，但未满足条件的情况。
 - 4XX 客户端错误
- 从浏览器地址栏输入 url 到显示页面的步骤

1.  要解析域名转换成对应的公网 IP；
  - 域名解析为 Ip 地址，依靠 DNS 服务，DNS 服务将该域名解析为 IP 地址,如果这一级的 DNS 服务器上找不到，则会进步向上一级的 DNS 发去查询请求。直到根域名服务器为止。如果中间找到了对应的公网 Ip，则再一级一级返回，如果找不到则返回错误信息，域名解析失败。

2.  根据公网 IP 通过庞大的互联网路由到对应的服务器上；

- 获取公网 IP 地址，就可以通过路由器找到对应的服务器所在。

3.  建立可靠的 TCP 数据连接；

- 这里使用的 TCP 协议在使用前需要首先在客户端和服务端之间，建立起一条数据链路。分为三步，也叫作 TCP 三次握手。

4.  服务器对该 URL 中的请求进行处理分发，返回一个 html；

- 客户端根据 URL 携带的不同信息，对其进行分发和数据处理。通过对应的 URL 格式 dispatch 到不同的后台处理 Java 类中，进行数据处理后，再返回对应的 HTML 文件给客户端

5.  浏览器或者客户端对该 HTML 进行渲染；

- 网页多是动态 HTML。里面包含了大量的 JS 代码。目前的浏览器为了尽快加载页面，普遍采用了一边解析一边加载的原则

##### HTTP 与 HTTPS 相关区别与联系

- 刚好前天和朋友讨论了 http 和 https，所以这个问题还是比较自信的。
  1.  这里我先说了 HTTP 和 HTTPS 默认端口不同，一个 80 端口一个 443
  2.  HTTP 是超文本传输协议，信息是明文传输，HTTPS 是具有安全性的 SSL 加密传输协议
  3.  HTTPS 是通过 SSL 加密的传输协议，SSL 大多收费（这里我讲到了自己建设个人网站时也白嫖了阿里 SSL 证书）
  4.  HTTP 连接简单，是无状态的，HTTPS 是 SSL+HTTP 构建的加密传输，身份认证的网络协议，比 HTTP 安全。
- 补充：在我回答完后，面试官问 HTTPS 的加密原理是什么，我回答应该是对称或者非对称加密（答案是混合加密），具体怎样没答出来
- 正确答案：HTTPS 采用混合加密方式
  1.  内容加密：采用混合加密技术，中间者无法直接查看明文内容
  2.  验证身份：通过证书认证客户端访问的是自己的服务器
  3.  保护数据完整性：防止传输的内容被中间人冒充或者篡改
- （对不起学校的专业课老师，上课没好好听，计网和组成原理太重要了，TVT）
  1.  对称加密：加密和解密用的同一个密钥的方式称为对称加密,也叫做共享密钥加密
  2.  非对称加密： 非对称加密又称作公开密钥加密,它很好的解决了对称加密密钥被截取的问题。 3.非对称加密采用一对非对称的密钥,一把叫做私有密钥,一把叫做共有密钥。使用非对称加密,发送密文一方
      使用对方的共有密钥进行加密处理,对方收到加密信息后,再使用自己的私有密钥进行解密。

##### （笑）虽然用的很少，但是大家都问，你也说说之前实习中都接触过哪些算法吧。

##### （指指旁边的白板，你可以边说边画，主要讲讲你的思路）

- 这里我讲了几个排序（以快排为主）及去重的方法还有之前研究过的斐波那契数列
- 太难的我也不会，还好面试官也没继续问。

##### 我看你简历上有原型链相关的知识点，那你能谈谈原型链继承吗？

`var son=new Func()`

- 这里我讲到了如何在 prototype 原型对象身上，进行一些可复用属性和方法的编写
- 并且实例化一个对象后如何调用的过程（面试官接着问，那你使用的 new 操作符，它背后如何实现的呢？）
- 标准答案：创建一个空对象, 并且 this 变量引入该对象,同时还继承了函数的原型
  `var obj={};`
- 设置原型链 空对象指向构造函数的原型对象
  `obj.__proto__= Func.prototype;`
- 执行函数体 修改构造函数 this 指针指向空对象,并执行函数体
  `var result =Func.call(obj);`
- 判断返回值 返回对象就用该对象,没有的话就创建一个对象

```javascript
         if (typeof(result) == "object"){
         obj=result;`
         }
         else{
            obj=obj;
         }
```

##### 说下你理解的闭包，什么是闭包，作用是什么，优缺点是什么？

- 这个问题很常见，也很简单，我是结合垃圾回收机制‘标记清除’回答的，感觉答的还挺好。

##### 遇到过跨域问题吗？平时怎么解决的？

- 这个出现频率很高，解决方案过多，也很简单，这里就不赘述了。

##### 在之前的实习过程中遇到过记忆深刻的困难吗？如何解决的？

- 这里讲了一个全局组件和私有组件图层冲突的问题。

##### 遇到过 FOUC,怎么解决的？（唯一一个问到关于 CSS 的问题）

- FOUC (Flash of Unstyled Content)文档样式短暂失效
- 原因：
  1.  使用 import 方法导入样式表
  2.  样式表放在了页面底部
  3.  几个样式表放在了 HTML 结构的不同位置
- 解决方法：使用 link 标签将样式表放在文档 head 中

##### 看过红宝书吗？你能讲下几种设计模式吗？比如工厂模式

- 这里答的稀烂，怪自己平时没太注重这些，后续学习后再补充。

##### 我看你之前工作中，使用了很久的 VUE，你能讲下它的特点及背后的原理吗？

- 这里我讲了下 VUE 组件化开发的好处，父子组件相互之间如何进行通信的，（顺便吐槽了 react 的 JSX 的杂乱）
- VUE 中双向数据绑定是如何实现的，以及我是怎么利用 object.defineProperty()手动实现双向数据绑定的（顺便吐槽了 react 的脏值检测）
- 我还讲到了 3.0 中尤大改用了 ES6 的 proxy，解决了 ES5 中 object.defineProperty()对多个对象监听，造成的性能浪费问题。
- 面试官和我讲了下三大框架的特点（感觉公司并不注重应届生框架使用的熟练度，重点在于理解的程度）。

##### 平时工作中你是如何使用 git 的？都用到了哪些，作用是什么？用的工具还是原生命令？公司代码提交有统一的前缀规范吗？

- 我说公司开发用的云桌面 VScode 和 git 绑定太麻烦，我就一直用原生提交代码和切分支
- 然后谈了谈常用的 git 命令，以及回答了在开发中遇到分支冲突怎么办，

##### webpack 平时怎么用？不使用 vue-cli 你自己搭建过简单工程吗？

- 这里大致讲了下 webpack 的简单配置问题，但是没回答出来背后的原理，因为一直用脚手架，也没手动搭建过
- 这里他建议我自己手动搭建下试试，说挺好玩的，也利于我的学习和理解。

##### 有什么想要问我的吗？

- a、因为我看贵公司是主要做人脸识别移动支付方面的，那么对前端来说要求的算法高吗？
  1.  答：在实际开发中，对于算法前端用的不是很多，（笑）而且现阶段的你不需要考虑那么多，了解一些思想就行。
- b、我了解到贵公司做移动端还是蛮多的？那么平时公司在开发中对于两端是通过实现两套 UI 解决的吗？
  1.  答：如果按你来说，你觉得怎么解决比较好？
      （呃，我回答说：如果我来做的话，简单的客户问卷调查或者活动页我就利用@media 做响应式，功能多或逻辑复杂的就乖乖写两套）
- c、刚才我听到贵公司以 react 为主，那么我进入贵公司需要怎么做？
  1.  答：VUE 产品线上的都已经开发完了，你来以后是要跟着做 react，但是不用担心，公司会给你时间学习。
- d、我九点半来的，我看公司好多人怎么都没来啊?还有公司上下班是怎样的？
  1.  答：（笑）明天端午节，想连假期的比较多，所以今天好多都请假了。正常都是 96 双休，加班需要申请，有加班费。
- e、对我这次面试有什么建议吗？
  1.  答：你可以多看看红宝书，再深入学习下基础，框架熟练度不重要，就像你 VUE 用的好，但是你来我们公司，
      我们公司主要是用的 react 你怎么办？但是当你基础好，并且理解背后的原理，无论什么框架你都可以上手很快，至于面试结果，
      后几天是假期了，要到 28 29 出结果。

##### 总结

- 我其实准备了挺多的，包括一些 CS3、H5 的新特性，ES6 的新语法和关于 ajax 和 axios 的实现原理，VUE 的语法这些都没问，也可能时间不够了，
  毕竟聊到 webpack 配置都十二点多了，整体面下来气氛很愉快，面试官带着笔记本穿着拖鞋来的，人确实比较随和，从我的角度来说，整体答的不好，表达的不够清晰，很多点只是单纯的知道，实习中太依赖于工具，专注于工作量的产出而忽略了背后的原理，后续学习中应该多注意这点。
